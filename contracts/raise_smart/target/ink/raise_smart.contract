{"source":{"hash":"0x076bb9b72402d7b8d72fddc86fdff5fd2e447dd0b23aede7697767c97dd36730","language":"ink! 5.0.0","compiler":"rustc 1.76.0","wasm":"0x0061736d01000000013e0b60027f7f0060017f0060037f7f7f017f60047f7f7f7f017f60037f7f7f0060027f7f017f60000060047f7f7f7f0060037e7e7f006000017f60017f017f02d4010b057365616c310b6765745f73746f726167650003057365616c3005696e7075740000057365616c30087472616e736665720003057365616c300d6465706f7369745f6576656e740007057365616c320b7365745f73746f726167650003057365616c31097465726d696e6174650001057365616c300b7365616c5f72657475726e0004057365616c300663616c6c65720000057365616c301176616c75655f7472616e736665727265640000057365616c300f686173685f626c616b65325f323536000403656e76066d656d6f727902010210031b1a02020202020000000804010109010505000000010000060a06000616037f01418080040b7f0041c080050b7f0041b880050b0711020463616c6c0020066465706c6f7900220a9a2b1a2b01017f037f2002200346047f200005200020036a200120036a2d00003a0000200341016a21030c010b0b0b6f01017f0240200020014d04402000210303402002450d02200320012d00003a0000200141016a2101200341016a2103200241016b21020c000b000b200141016b2101200041016b210303402002450d01200220036a200120026a2d00003a0000200241016b21020c000b000b20000b2501017f037f2002200346047f200005200020036a20013a0000200341016a21030c010b0b0b3f01027f0340200245044041000f0b200241016b210220012d0000210320002d00002104200041016a2100200141016a210120032004460d000b200420036b0b8f0101017f20002d00042103200041003a0004027f0240200345044041012000280200220028020422032002490d021a2001200028020022012002100a1a0c010b2001200041056a2d00003a00004101200028020022002802042203200241016b2202490d011a200141016a200028020022012002100a1a0b2000200320026b3602042000200120026a36020041000b0bd70102047f037e230041106b22022400200242808001370208200241b8800436020441d995a49679200241046a22041010200120041011024020022802082205200228020c2201490d00200228020421032002200520016b220536020420032001200120036a2201200410002104200520022802042203490d00027e0240024020040e0400030301030b20034110472003411049720d022001290000210642012107200141086a2900000c010b4210210642000b21082000200637030820002007370300200041106a2008370300200241106a24000f0b000b2601017f230041106b220224002002200036020c20012002410c6a41041013200241106a24000b0a0020012000412010130b2a01017f230041106b2203240020032001370308200320003703002002200341101013200341106a24000b4801027f024002402000280208220320026a22042003490d00200420002802044b0d00200420036b2002470d01200028020020036a20012002100a1a200020043602080f0b000b000b3f01017f230041106b22012400200142808001370208200141b880043602042000200141046a10112001280208200128020c490440000b20012802041005000b850101027f230041106b2201240020014180800136020c41b880042001410c6a1007200128020c2202418180014f2002411f4d72450440200041b98004290000370001200041096a41c18004290000370000200041116a41c98004290000370000200041186a41d08004290000370000200041b880042d00003a0000200141106a24000f0b000b3602017f027e230041106b2200240020001017200041086a290300210120002903002102200041106a2400410541042001200284501b0b5802017f017e230041206b2201240020014200370308200142003703002001411036021c20012001411c6a1008200128021c41114f0440000b200129030021022000200129030837030820002002370300200141206a24000b0b002000200110194101730b0b00200020014120100d450bf20301087f200028020822022000280200460440230041206b220324000240200241016a220204404104200028020022044101742206200220022006491b2202200241044d1b220841808080204921072008410574210202402004450440200341003602180c010b200341013602182003200441057436021c200320002802043602140b200341146a2105230041106b22042400200341086a2206027f02402007044020024100480d01027f20052802040440200541086a2802002207450440200441086a2002102320042802082105200428020c0c020b200528020021090240200210212205450440410021050c010b200520092007100a1a0b20020c010b2004200210232004280200210520042802040b21072005044020062005360204200641086a200736020041000c030b20064101360204200641086a200236020041010c020b20064100360204200641086a200236020041010c010b2006410036020441010b360200200441106a24002003280208450d01200328020c1a0b000b200328020c21022000200836020020002002360204200341206a2400200028020821020b2000200241016a360208200028020420024105746a22002001290000370000200041086a200141086a290000370000200041106a200141106a290000370000200041186a200141186a2900003700000b7401017f230041106b2202240002402000413f4d044020012000410274101f0c010b200041ffff004d0440200220004102744101723b010e20012002410e6a410210130c010b200041ffffffff034d04402000410274410272200110100c010b20014103101f2000200110100b200241106a24000b3c01027f027f200145044041b88004210141010c010b4101210241b8800441013a000041b98004210141020b2103200120023a000020002003101e000bf80101067f230041106b22012400200142808001370208200141b880043602044100200141046a22061010024020012802082202200128020c2204490d00200128020421052001410036020c2001200220046b3602082001200420056a360204200041c4006a2802002102200041c8006a28020022032006101b200304402003410574210303402002200141046a1011200241206a2102200341206b22030d000b0b2000290300200041086a290300200141046a220210122000290310200041186a29030020021012200041206a20021011200128020c220020012802084b0d00200520042001280204200010041a200141106a24000f0b000b0d00200041b8800420011006000b2d01017f2000280208220220002802044904402000200241016a360208200028020020026a20013a00000f0b000bbb16020e7f067e230041c0016b2201240020014180800136022041b88004200141206a1001024020012802202200418180014f0d000240024020004104490d0041bb80042d0000210041ba80042d0000210241b980042d0000210302400240024041b880042d00002204413a6b0e03010302000b200441c300470440200441c901470d03410021042003410f47200241d90147722000410c4772450d040c030b41022104200341b40146200241fc014671200041b20146710d030c020b4103210420034113462002419b014671200041dc014671450d010c020b41012104200341920147200241214772200041e6004772450d010b41014101101c000b200142808001370224200141b880043602204100200141206a220310102001280224220520012802282200490d00200128022021022001200520006b220536022020022000200020026a22002003100020052001280220220349720d0020012003360278200120003602742003450d0020002d000021022001200341016b3602782001200041016a36027402400240024002400240200241037141016b0e03020301000b200241027621020c030b2003410549200241034b720d03200028000121022001200341056b3602782001200041056a36027420024180808080044f0d020c030b200141256a20023a0000200141013a00242001200141f4006a360220200141003b01a001200141206a200141a0016a4102100e0d0220012f01a001220041ff014d0d02200041027621020c010b200141256a20023a0000200141013a00242001200141f4006a360220200141003602a001200141206a200141a0016a4104100e0d0120012802a001220041808004490d01200041027621020b4101210320012802784105762200200220002002491b22000440200041ffffff1f4b0d01200041057422034100480d0141a880042d00001a200310212203450d010b200141003602a801200120033602a401200120003602a001200204400340200128027822034120490d02200141286a2001280274220041086a290000370300200141306a200041106a290000370300200141386a200041186a2900003703002001200341206b3602782001200041206a36027420012000290000370320200141a0016a200141206a101a200241016b22020d000b20012802a0012200418080808078460d010b20012902a4012111200128027822024110490d0020012001280274220341106a360274200241707122054110460d002003290000210f200341086a290000211220012001280274220341106a3602742005411046200241c0004772200041818080807846720d00200341086a29000021102003290000210e20012802742102200141296a201242088822133e0000200141386a20103703002001412f6a20134230883c00002001412d6a20134220883d0000200141c8006a200241086a290000370300200141d0006a200241106a290000370300200141d8006a200241186a2900003703002001200e37033020012012423886200f42088884370021200120003602602001200f3c00202001200229000037034020012011370264200141406b2103024002400240024002400240200441016b0e03020400010b230041c0016b22002400200141206a220141406b2104200041306a1015200041206a1017200141c8006a2802004105742102200141c4006a2802002103200041286a2903002110200029032021110240024002400240027e024003402002450d01200241206b21022003200041306a220510192106200341206a21032006450d000b200041086a2005100f2000290308a74101470d02427f2000290310220e20117c2212200e542202ad200041186a290300220e20107c7c220f2002200e200f56200e200f511b22021b210e427f201220021b0c010b2004200041306a101a2010210e20110b210f200041dc006a200041386a290000370200200041e4006a200041406b290000370200200041ec006a200041c8006a290000370200200041808004360250200020002900303702542000428080013702a401200041b880043602a00141d995a49679200041a0016a22031010200041d4006a2003101120002802a401220520002802a8012202490d0120002802a0012104200041003602a8012000200520026b3602a4012000200220046a3602a001200f200e2003101220002802a801220320002802a4014b0d012004200220002802a001200310041a0b2001427f2001290300220e20117c220f200e200f5622022002ad200141086a2202290300220e20107c7c220f200e54200e200f511b22031b22123703002002427f200f20031b220e370300200041f8006a2010370300200041e8006a200041c8006a290000370300200041e0006a200041406b290000370300200041d8006a200041386a29000037030020002011370370200020002900303703502000428080013702a401200041b880043602a0014101200041a0016a2204101b20002802a8012202418180014f0d00200041003602a80120004180800120026b22063602a4012000200241b880046a22073602a001418580042004101120002802a801220320002802a4014b0d0020002802a001210520004198016a2208420037030020004190016a2209420037030020004188016a220a420037030020004200370380010240200341214f0440200041b8016a220b4200370300200041b0016a220c4200370300200041a8016a220d4200370300200042003703a00120052003200410092008200b2903003703002009200c290300370300200a200d290300370300200020002903a001370380010c010b20004180016a20052003100a1a0b200041b8016a20004198016a290300370300200041b0016a20004190016a290300370300200041a8016a20004188016a29030037030020002000290380013703a001200041003602880120002006360284012000200736028001200041a0016a220420004180016a1011200220022000280288016a22034b2003418180014f720d00200041003602a80120004180800120036b3602a4012000200341b880046a3602a001200041d0006a20041011201120102004101220002802a801220220002802a4014b0d0041b88004200320002802a001200210032001290310201256200141186a2903002210200e56200e2010511b450d01200041c0016a24000c020b000b200141206a1014000b2001101d41004100101c000b101641ff01714105470d04200141f4006a220010152000200310180d012011422088a72202450d032011a7210020024105742102200141186a21060340200141086a2000100f2001290308a74101460440200629030021102001290310210e200141b8016a200041186a290000370300200141b0016a200041106a290000370300200141a8016a200041086a290000370300200120002900003703a00120014280800137029801200141b8800436029401200141a0016a20014194016a220710112001280298012208200128029c012204490d0620012802940121052001410036029c012001200820046b360298012001200420056a36029401200e201020071012200128029c0122072001280298014b0d0620052004200128029401200710021a0b200041206a2100200241206b22020d000b0c030b101641ff01714105470d03200141a0016a22011015200120031018450d020b41b880044180023b010041ba800441003a000041014103101e000b101641ff01714105470d01200141286a290300210f20012903202111200141206a101d230041106b22012400200141b8800436020441b8800441003a000020014280808180103702084200200e20117d2212200e2012542010200f7d200e201154ad7d220e201056200e2010511b22001b4200200e20001b200141046a1012200128020c2201418180014f0440000b41002001101e000b20031014000b000bb70101027f027f41ac80042d0000044041b080042802000c010b3f00210141b0800441c0800536020041ac800441013a000041b48004200141107436020041c080050b21010240027f4100200020016a22022001490d001a41b480042802002002490440200041ffff036a220241107640002201417f460d022001411074220120024180807c716a22022001490d0241b4800420023602004100200020016a22022001490d011a0b41b08004200236020020010b0f0b41000b9b0202027f017e230041d0006b2200240002400240101641ff01714105470d0020004180800136020041b880042000100120002802002201418180014f0d0002402001410449200141346b414f4b720d0041b880042d0000419b01470d0041b980042d000041ae01470d0041ba80042d0000419d01470d0041bb80042d000041de00460d020b41014101101c000b000b41dc80042902002102200041186a41e48004290200370300200041386a41d48004290200370300200041306a41cc8004290200370300200041286a41c48004290200370300200020023703102000420037030820004200370300200041bc80042902003703202000410036024820004280808080103703402000101d41b8800441003b010041004102101e000b2801017f2001047f41a880042d00001a200110210541010b210220002001360204200020023602000b0b2d0100418080040b25d90ac992013b526c12dfab0d8d369b6f922a253b6f04b2030dde7dca0d5b356b6a59befd42","build_info":{"build_mode":"Release","cargo_contract_version":"4.1.1","rust_toolchain":"stable-x86_64-unknown-linux-gnu","wasm_opt_settings":{"keep_debug_symbols":false,"optimization_passes":"Z"}}},"contract":{"name":"raise_smart","version":"0.1.0","authors":["bgallois <benjamin@gallois.cc>"]},"image":null,"spec":{"constructors":[{"args":[{"label":"beneficiary","type":{"displayName":["AccountId"],"type":1}},{"label":"objective","type":{"displayName":["Balance"],"type":4}}],"default":false,"docs":[],"label":"new","payable":false,"returnType":{"displayName":["ink_primitives","ConstructorResult"],"type":11},"selector":"0x9bae9d5e"}],"docs":[""," This smart contract is developed by Benjamin Gallois (benjamin@gallois.cc).",""," Licensed under the Apache License, Version 2.0 (the \"License\");"," you may not use this file except in compliance with the License."," You may obtain a copy of the License at","",""," Unless required by applicable law or agreed to in writing, software"," distributed under the License is distributed on an \"AS IS\" BASIS,"," WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," See the License for the specific language governing permissions and"," limitations under the License.",""," # Description",""," The `RaiseSmart` smart contract is a straightforward implementation of a crowdfunding"," mechanism using the ink! smart contract framework for the Polkadot/Substrate ecosystem.",""," This contract provides a basic structure for managing a crowdfunding campaign, allowing"," users to contribute funds towards a specified financial goal. It includes functionalities"," for:",""," - **Donations**: Users can make financial contributions to the campaign. The contract","   tracks each contributor's contributions and updates the total amount raised."," - **Goal Achievement**: The contract monitors the progress towards the fundraising goal.","   Once the goal is reached, it triggers appropriate actions, such as transferring the","   funds to the campaign's beneficiary or terminating the contract, depending on the","   environment (test or production)."," - **Fund Management**: In case the campaign needs to be aborted, the contract supports","   refunding all contributors and terminating the contract. This ensures that contributors","   are reimbursed if the campaign does not proceed as planned.",""," # License"," Apache License 2.0",""," Licensed under the Apache License, Version 2.0 (the \"License\");"," you may not use this file except in compliance with the License."," You may obtain a copy of the License at","",""," Unless required by applicable law or agreed to in writing, software"," distributed under the License is distributed on an \"AS IS\" BASIS,"," WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied."," See the License for the specific language governing permissions and"," limitations under the License."],"environment":{"accountId":{"displayName":["AccountId"],"type":1},"balance":{"displayName":["Balance"],"type":4},"blockNumber":{"displayName":["BlockNumber"],"type":19},"chainExtension":{"displayName":["ChainExtension"],"type":20},"hash":{"displayName":["Hash"],"type":17},"maxEventTopics":4,"staticBufferSize":16384,"timestamp":{"displayName":["Timestamp"],"type":18}},"events":[{"args":[{"docs":[],"indexed":false,"label":"from","type":{"displayName":["AccountId"],"type":1}},{"docs":[],"indexed":false,"label":"amount","type":{"displayName":["Balance"],"type":4}}],"docs":[],"label":"Donated","module_path":"raise_smart::raise_smart","signature_topic":"0x3b526c12dfab0d8d369b6f922a253b6f04b2030dde7dca0d5b356b6a59befd42"}],"lang_error":{"displayName":["ink","LangError"],"type":12},"messages":[{"args":[],"default":false,"docs":[" Aborts the crowdfunding campaign and refunds all contributors.",""," This function can only be called by the beneficiary of the crowdfunding campaign.",""],"label":"abort","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":13},"selector":"0xc90fd90c"},{"args":[],"default":false,"docs":[" Closes the crowdfunding campaign and transfers the funds to the beneficiary.",""," This function can only be called by the beneficiary of the crowdfunding campaign."," It performs the following actions based on whether the contract is in test mode or not:",""],"label":"close","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":13},"selector":"0x3c922166"},{"args":[],"default":false,"docs":[" Returns the current gap between the fundraising objective and the amount raised.",""],"label":"get_gap","mutates":true,"payable":false,"returnType":{"displayName":["ink","MessageResult"],"type":16},"selector":"0x43b4fcb2"},{"args":[],"default":false,"docs":[" Handles a donation to the crowdfunding campaign.",""," This function allows users to donate funds to the campaign. It performs the following actions:",""],"label":"donate","mutates":true,"payable":true,"returnType":{"displayName":["ink","MessageResult"],"type":11},"selector":"0x3a139bdc"}]},"storage":{"root":{"layout":{"struct":{"fields":[{"layout":{"leaf":{"key":"0x00000000","ty":0}},"name":"contributors"},{"layout":{"root":{"layout":{"leaf":{"key":"0xd90ac992","ty":4}},"root_key":"0xd90ac992","ty":5}},"name":"contributions"},{"layout":{"leaf":{"key":"0x00000000","ty":4}},"name":"amount"},{"layout":{"leaf":{"key":"0x00000000","ty":4}},"name":"objective"},{"layout":{"leaf":{"key":"0x00000000","ty":1}},"name":"beneficiary"}],"name":"RaiseSmart"}},"root_key":"0x00000000","ty":10}},"types":[{"id":0,"type":{"def":{"sequence":{"type":1}}}},{"id":1,"type":{"def":{"composite":{"fields":[{"type":2,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","AccountId"]}},{"id":2,"type":{"def":{"array":{"len":32,"type":3}}}},{"id":3,"type":{"def":{"primitive":"u8"}}},{"id":4,"type":{"def":{"primitive":"u128"}}},{"id":5,"type":{"def":{"composite":{}},"params":[{"name":"K","type":1},{"name":"V","type":4},{"name":"KeyType","type":6}],"path":["ink_storage","lazy","mapping","Mapping"]}},{"id":6,"type":{"def":{"composite":{}},"params":[{"name":"L","type":7},{"name":"R","type":8}],"path":["ink_storage_traits","impls","ResolverKey"]}},{"id":7,"type":{"def":{"composite":{}},"path":["ink_storage_traits","impls","AutoKey"]}},{"id":8,"type":{"def":{"composite":{}},"params":[{"name":"ParentKey","type":9}],"path":["ink_storage_traits","impls","ManualKey"]}},{"id":9,"type":{"def":{"tuple":[]}}},{"id":10,"type":{"def":{"composite":{"fields":[{"name":"contributors","type":0,"typeName":"<Vec<AccountId> as::ink::storage::traits::AutoStorableHint<::\nink::storage::traits::ManualKey<1801344267u32, ()>,>>::Type"},{"name":"contributions","type":5,"typeName":"<Mapping<AccountId, Balance> as::ink::storage::traits::\nAutoStorableHint<::ink::storage::traits::ManualKey<2462649049u32,\n()>,>>::Type"},{"name":"amount","type":4,"typeName":"<Balance as::ink::storage::traits::AutoStorableHint<::ink::\nstorage::traits::ManualKey<2349743567u32, ()>,>>::Type"},{"name":"objective","type":4,"typeName":"<Balance as::ink::storage::traits::AutoStorableHint<::ink::\nstorage::traits::ManualKey<3950568209u32, ()>,>>::Type"},{"name":"beneficiary","type":1,"typeName":"<AccountId as::ink::storage::traits::AutoStorableHint<::ink::\nstorage::traits::ManualKey<1175114471u32, ()>,>>::Type"}]}},"path":["raise_smart","raise_smart","RaiseSmart"]}},{"id":11,"type":{"def":{"variant":{"variants":[{"fields":[{"type":9}],"index":0,"name":"Ok"},{"fields":[{"type":12}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":9},{"name":"E","type":12}],"path":["Result"]}},{"id":12,"type":{"def":{"variant":{"variants":[{"index":1,"name":"CouldNotReadInput"}]}},"path":["ink_primitives","LangError"]}},{"id":13,"type":{"def":{"variant":{"variants":[{"fields":[{"type":14}],"index":0,"name":"Ok"},{"fields":[{"type":12}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":14},{"name":"E","type":12}],"path":["Result"]}},{"id":14,"type":{"def":{"variant":{"variants":[{"fields":[{"type":9}],"index":0,"name":"Ok"},{"fields":[{"type":15}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":9},{"name":"E","type":15}],"path":["Result"]}},{"id":15,"type":{"def":{"variant":{"variants":[{"index":0,"name":"NotAuthorized"}]}},"path":["raise_smart","raise_smart","Error"]}},{"id":16,"type":{"def":{"variant":{"variants":[{"fields":[{"type":4}],"index":0,"name":"Ok"},{"fields":[{"type":12}],"index":1,"name":"Err"}]}},"params":[{"name":"T","type":4},{"name":"E","type":12}],"path":["Result"]}},{"id":17,"type":{"def":{"composite":{"fields":[{"type":2,"typeName":"[u8; 32]"}]}},"path":["ink_primitives","types","Hash"]}},{"id":18,"type":{"def":{"primitive":"u64"}}},{"id":19,"type":{"def":{"primitive":"u32"}}},{"id":20,"type":{"def":{"variant":{}},"path":["ink_env","types","NoChainExtension"]}}],"version":5}